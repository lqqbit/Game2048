# Game2048
2048游戏开发示例

## 开发目的

以2048这款可玩性高的游戏记录部分设计模式的学习成果，追求程序具有一定的可扩展性和可维护性

## 涉及到的设计模式

### 迭代器模式

参见`BlockCollection`，使用的主要意图是为了封装二位数组的访问，个人不太喜欢写两重for循环

### 命令者模式

参见`Command`，接受界面或者键盘传递的各种命令，包括上下左右，新游戏，保存进度，撤销等

### 工厂模式

当然是为了创建命令啦

### 备忘录模式

使用的主要意图是为了实现实时进度保存和随时保存进度的功能

## 算法解析（不算重点）

### 数据结构

4X4数组存储各个方块的值，在界面显示封装为一个`JButton`

`BlockCollection`是方块的管理类

### 合并和移动算法

算法的最核心的就是方块的合并，方块的整体移动和判断游戏结束

#### 合并

`BlockCombiner`是方块合并的工具类，核心算法是找到第一个非空的方块，然后找到下一个值相同的方块，进行合并，循环循环

#### 移动

`BlockMover`是方块移动的工具类，核心算法是找到第一个非空的方块，然后往前找到最后一个空方块，进行合并，依此循环

#### 判断结束

其实这个实现思路有很多

- 标志位
- 扫描法

从效率上来说标志位的方式更优，本示例采取了扫描法。
